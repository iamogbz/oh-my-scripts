// ==UserScript==
// @name        No Window Open
// @version     1.1.8
// @author      iamogbz
// @description Blocks window open
// @homepage    https://github.com/iamogbz/oh-my-scripts
// @supportURL  https://github.com/iamogbz/oh-my-scripts/issues
// @match       *://*/*
// @icon        https://github.com/iamogbz/oh-my-scripts/raw/master/assets/monkey_128.png
// @namespace   iamogbz/oh-my-scripts
// @grant       none
// @require     https://github.com/iamogbz/oh-my-scripts/raw/219427c/dist/lib/dom.js
// @require     https://raw.githubusercontent.com/Martii/UserScripts/d8d8829/lib/GM_setStyle/GM_setStyle.js
// @downloadURL https://github.com/iamogbz/oh-my-scripts/raw/219427c/dist/no-window-open.user.js
// @updateURL   https://github.com/iamogbz/oh-my-scripts/raw/master/dist/no-window-open.user.js
// ==/UserScript==

(()=>{"use strict";var e,n={3213:function(e,n,t){var o=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e};Object.defineProperty(n,"__esModule",{value:!0});var r,i,a,c,p=t(1486);!function(){function e(e){return"iamogbz-no-window-open-".concat(e)}var n,t,l=e(r||(r=o(["popup-element"],["popup-element"]))),s=e(i||(i=o(["popup-element-link"],["popup-element-link"]))),u=e(a||(a=o(["popup-element-close"],["popup-element-close"]))),d=e(c||(c=o(["popup-element-visible"],["popup-element-visible"]))),f="\n#".concat(l," {\n  align-items: center;\n  background-color: #241200EE;\n  border-radius: 4px;\n  bottom: 8px;\n  box-shadow: #00000032 1px 1px 8px;\n  color: white;\n  display: flex;\n  flex-flow: column;\n  font-size: 0.8em;\n  overflow: hidden;\n  padding: 8px;\n  position: fixed;\n  right: -264px;\n  text-align: center;\n  transition: right 0.3s ease;\n  width: 248px;\n}\n\n#").concat(l,".").concat(d," {\n  right: 8px;\n  z-index: ").concat(Number.MAX_SAFE_INTEGER,";\n}\n\n#").concat(l," #").concat(u," {\n  background-color: #8d0303EE;\n  border-radius: 2px;\n  border: none;\n  color: white;\n  cursor: pointer;\n  font-size: 0.8em;\n  margin-top: 8px;\n  padding: 4px 6px;\n  width: 100%;\n}\n\n#").concat(l," #").concat(s," {\n  background-color: #0366d6AA;\n  border-radius: 2px;\n  color: white;\n  cursor: pointer;\n  margin-top: 4px;\n  padding: 2px 6px;\n  word-break: break-all;\n}\n");function m(){var e=document.getElementById(l)||(0,p.createElement)({attributes:{id:l},children:[{children:["This page just attempted to open a url.\nClick on it below to proceed with navigation."],tagName:"div"},{attributes:{id:s,target:"_blank",referrer:"noreferrer"},tagName:"a"},{attributes:{id:u},children:["Dismiss"],events:{click:g},tagName:"button"}],events:{mouseover:v},tagName:"div"});return document.body.appendChild(e),e}function h(){return m().querySelector("#".concat(s))}function b(e){n=e,m(),h().setAttribute("href",e),h().innerHTML=e}function v(){m().classList.add(d),clearTimeout(t),t=setTimeout(g,1e4)}function g(){m().classList.remove(d)}GM_setStyle({data:f}),window.open=function(e){return console.log("window.open(".concat(e,")")),b(e),clearTimeout(t),setTimeout(v,300),{get location(){return{assign:b,close:g,replace:b,get href(){return n},set href(e){b(e)}}},set location(e){e&&("string"==typeof e?b(e):e.href&&b(e.href))}}}}()}},t={};function o(e){var r=t[e];if(void 0!==r)return r.exports;var i=t[e]={exports:{}};return n[e].call(i.exports,i,i.exports,o),i.exports}o.m=n,e=[],o.O=(n,t,r,i)=>{if(!t){var a=1/0;for(s=0;s<e.length;s++){for(var[t,r,i]=e[s],c=!0,p=0;p<t.length;p++)(!1&i||a>=i)&&Object.keys(o.O).every((e=>o.O[e](t[p])))?t.splice(p--,1):(c=!1,i<a&&(a=i));if(c){e.splice(s--,1);var l=r();void 0!==l&&(n=l)}}return n}i=i||0;for(var s=e.length;s>0&&e[s-1][2]>i;s--)e[s]=e[s-1];e[s]=[t,r,i]},o.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={508:0};o.O.j=n=>0===e[n];var n=(n,t)=>{var r,i,[a,c,p]=t,l=0;if(a.some((n=>0!==e[n]))){for(r in c)o.o(c,r)&&(o.m[r]=c[r]);if(p)var s=p(o)}for(n&&n(t);l<a.length;l++)i=a[l],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(s)},t=self.webpackChunkoh_my_scripts=self.webpackChunkoh_my_scripts||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})();var r=o.O(void 0,[509],(()=>o(3213)));r=o.O(r)})();