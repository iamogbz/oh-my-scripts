// ==UserScript==
// @name        No Window Open
// @version     1.1.7
// @author      iamogbz
// @description Blocks window open
// @homepage    https://github.com/iamogbz/oh-my-scripts
// @supportURL  https://github.com/iamogbz/oh-my-scripts/issues
// @match       *://*/*
// @icon        https://github.com/iamogbz/oh-my-scripts/raw/master/assets/monkey_128.png
// @namespace   iamogbz/oh-my-scripts
// @grant       none
// @require     https://github.com/iamogbz/oh-my-scripts/raw/0b27891/dist/lib/dom.js
// @require     https://raw.githubusercontent.com/Martii/UserScripts/d8d8829/lib/GM_setStyle/GM_setStyle.js
// @downloadURL https://github.com/iamogbz/oh-my-scripts/raw/0b27891/dist/no-window-open.user.js
// @updateURL   https://github.com/iamogbz/oh-my-scripts/raw/master/dist/no-window-open.user.js
// ==/UserScript==

(()=>{"use strict";var e={3213:function(e,n,t){var r=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e};Object.defineProperty(n,"__esModule",{value:!0});var o,i,p,a,l=t(1486);!function(){function e(e){return"iamogbz-no-window-open-"+e}var n,t,s=e(o||(o=r(["popup-element"],["popup-element"]))),u=e(i||(i=r(["popup-element-link"],["popup-element-link"]))),c=e(p||(p=r(["popup-element-close"],["popup-element-close"]))),d=e(a||(a=r(["popup-element-visible"],["popup-element-visible"]))),f="\n#"+s+" {\n  align-items: center;\n  background-color: #241200EE;\n  border-radius: 4px;\n  bottom: 8px;\n  box-shadow: #00000032 1px 1px 8px;\n  color: white;\n  display: flex;\n  flex-flow: column;\n  font-size: 0.8em;\n  overflow: hidden;\n  padding: 8px;\n  position: fixed;\n  right: -264px;\n  text-align: center;\n  transition: right 0.3s ease;\n  width: 248px;\n}\n\n#"+s+"."+d+" {\n  right: 8px;\n  z-index: "+Number.MAX_SAFE_INTEGER+";\n}\n\n#"+s+" #"+c+" {\n  background-color: #8d0303EE;\n  border-radius: 2px;\n  border: none;\n  color: white;\n  cursor: pointer;\n  font-size: 0.8em;\n  margin-top: 8px;\n  padding: 4px 6px;\n  width: 100%;\n}\n\n#"+s+" #"+u+" {\n  background-color: #0366d6AA;\n  border-radius: 2px;\n  color: white;\n  cursor: pointer;\n  margin-top: 4px;\n  padding: 2px 6px;\n  word-break: break-all;\n}\n";function h(){var e=document.getElementById(s)||l.createElement({attributes:{id:s},children:[{children:["This page just attempted to open a url.\nClick on it below to proceed with navigation."],tagName:"div"},{attributes:{id:u,target:"_blank",referrer:"noreferrer"},tagName:"a"},{attributes:{id:c},children:["Dismiss"],events:{click:g},tagName:"button"}],events:{mouseover:b},tagName:"div"});return document.body.appendChild(e),e}function m(){return h().querySelector("#"+u)}function x(e){n=e,h(),m().setAttribute("href",e),m().innerHTML=e}function b(){h().classList.add(d),clearTimeout(t),t=setTimeout(g,1e4)}function g(){h().classList.remove(d)}GM_setStyle({data:f}),window.open=function(e){return console.log("window.open("+e+")"),x(e),clearTimeout(t),setTimeout(b,300),{get location(){return{assign:x,close:g,replace:x,get href(){return n},set href(e){x(e)}}},set location(e){e&&("string"==typeof e?x(e):e.href&&x(e.href))}}}}()}},n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{}};return e[r].call(o.exports,o,o.exports,t),o.exports}t.m=e,t.x=e=>{},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={508:0},n=[[3213,509]],r=e=>{},o=(o,i)=>{for(var p,a,[l,s,u,c]=i,d=0,f=[];d<l.length;d++)a=l[d],t.o(e,a)&&e[a]&&f.push(e[a][0]),e[a]=0;for(p in s)t.o(s,p)&&(t.m[p]=s[p]);for(u&&u(t),o&&o(i);f.length;)f.shift()();return c&&n.push.apply(n,c),r()},i=self.webpackChunkoh_my_scripts=self.webpackChunkoh_my_scripts||[];function p(){for(var r,o=0;o<n.length;o++){for(var i=n[o],p=!0,a=1;a<i.length;a++){var l=i[a];0!==e[l]&&(p=!1)}p&&(n.splice(o--,1),r=t(t.s=i[0]))}return 0===n.length&&(t.x(),t.x=e=>{}),r}i.forEach(o.bind(null,0)),i.push=o.bind(null,i.push.bind(i));var a=t.x;t.x=()=>(t.x=a||(e=>{}),(r=p)())})(),t.x()})();